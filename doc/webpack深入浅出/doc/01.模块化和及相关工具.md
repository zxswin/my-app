## 模块化解决方案

- CommonJS

```ts
// npm模块大多数均为采用CommonJS规范
// 可再node.js环境下运行 无法直接运行于浏览器环境下
// 导入
const moduleA = require('./moduleA');
// 导出
module.exports = moduleA.someFunc;

// CommonJS1只能通过exports.XX = XX的方式导出;
// CommonJS2还可以通过module.exports = XX导出;
```

- AMD

```ts
// 定义一个模块
// 参数为 要导出导模块名 该模块依赖的数组 导出函数(参数为其依赖的函数)
defind('module', ['dep'], function(dep) {
  return {}; // 导出一个对象
});

// 导入和使用
require(['module'], function(module) {});

// 主要针对浏览器的模块化问题 采用异步的方式区加载模块
// 使用前需要先引入requirejs
```

- ES6 的模块化

```ts
// 将会成为浏览器和服务器通用的解决方案
// 导入
import { readFile } from 'fs';
import React from 'react';

// 导出
export function hello() {}
export default {};
```

## 构建需要完成的事情

```bash
# 前端工程化和自动化
1.代码转换
2.文件优化
3.代码分割
4.模块合并
5.自动刷新
6.代码校验
7.自动发布
```

- Gulp

```bash
# 一个灵活的基于流的自动化构建工具
# 使用步骤
1.通过gulp.task注册一个任务
2.通过gulp.run执行任务
3.通过gulp.watch监听文件变化
4.通过gulp.src读取文件
5.通过gulp.dest写入文件

# 实例
// 引入Gulp
var gulp = require('gulp');
// 引入处理插件
var sass = require('gulp-sass');

// 处理任务
gulp.task('sacc',function(){
  // 读取文件通过管道喂给插件
  gulp.src('./scss/*.scss').pipe(sass()).pipe(gulp.dest('./css'));
})
```

- Webpack

```bash
Webpack 是一个打包模块化js的工具
模块化 + 新语言 + 新框架
```
