## mobx-react-form 表单操作

- 基本用法(使用校验插件)

```tsx
import React, { useState, useEffect } from 'react';
import { observer } from 'mobx-react';

import dvr from 'mobx-react-form/lib/validators/DVR';
import validatorjs from 'validatorjs';
import MobxReactForm from 'mobx-react-form';

// 设置语音
validatorjs.useLang('zh');

// 使用的插件
const plugins = {
  dvr: dvr(validatorjs),
};

// 表格相关字段
const fields = [
  {
    name: 'email',
    label: '邮箱',
    placeholder: '请输入邮箱',
    type: 'text',
    rules: 'required|email|string|between:5,25',
  },
  {
    name: 'age',
    label: '年龄',
    placeholder: '请输入年龄',
    type: 'number',
    rules: 'required|numeric|between:5,25',
  },
  {
    name: 'password',
    label: '密码',
    type: 'text',
    placeholder: '请输入密码',
    rules: 'required|string|between:5,25',
  },
  {
    name: 'passwordConfirm',
    label: '确认密码',
    placeholder: '请输入确认密码',
    rules: 'required|string|same:password',
    type: 'text',
  },
  {
    name: 'radioA',
    label: '单选框1',
    rules: '',
    type: 'radio',
    value: '1',
  },
  {
    name: 'radioB',
    label: '单选框2',
    rules: '',
    type: 'radio',
    value: '2',
  },
];

// 验证成功或验证失败的钩子

const hooks = {
  onSuccess(form) {
    console.log('表单全部验证通过!');
    console.log('表单的值!', form.values());
  },
  onError(form) {
    console.log('表单验证失败');
    console.log('表单的全部报错信息', form.errors());
  },
};

// 实例化MobxReactForm对象
const myForm = new MobxReactForm({ fields }, { plugins, hooks });

@observer
class Grandson extends React.Component<any, any> {
  constructor(props) {
    super(props);
    this.state = {};
  }

  render() {
    return (
      <form onSubmit={myForm.onSubmit}>
        {/* 邮箱 id会自动生成 email-1*/}
        <label htmlFor={myForm.$('email').id}>{myForm.$('email').label}</label>
        <input {...myForm.$('email').bind()} />
        <p>{myForm.$('email').error}</p>

        {/* 年龄  id会自动生成 email-age-2*/}
        <label htmlFor={myForm.$('age').id}>{myForm.$('age').label}</label>
        <input {...myForm.$('age').bind()} />
        <p>{myForm.$('age').error}</p>

        {/* 密码 */}
        <label htmlFor={myForm.$('password').id}>{myForm.$('password').label}</label>
        <input {...myForm.$('password').bind()} />
        <p>{myForm.$('password').error}</p>

        {/* 确认密码 */}
        <label htmlFor={myForm.$('passwordConfirm').id}>{myForm.$('passwordConfirm').label}</label>
        <input {...myForm.$('passwordConfirm').bind()} />
        <p>{myForm.$('passwordConfirm').error}</p>

        {/* 单选框1 */}
        <label htmlFor={myForm.$('radioA').id}>{myForm.$('radioA').label}</label>
        <input {...myForm.$('radioA').bind()} name="ro" value={myForm.$('radioA').value} checked={myForm.$('radioA').value === '1'} />

        {/* 单选框2 */}
        <label htmlFor={myForm.$('radioB').id}>{myForm.$('radioB').label}</label>
        <input {...myForm.$('radioB').bind()} name="ro" value={myForm.$('radioB').value} checked={myForm.$('radioB').value === '1'} />

        <button type="submit" onClick={myForm.onSubmit}>
          提交
        </button>
        <button type="button" onClick={myForm.onClear}>
          清空
        </button>
        <button type="button" onClick={myForm.onReset}>
          重置
        </button>

        <p>{myForm.error}</p>
      </form>
    );
  }
}

export default Grandson;
```

- 基本用法(定义验证挂钩)

```tsx
```
