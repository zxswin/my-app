## React Fiber

```ts
/**
 * React Fiber 是版本16.0~16.5的主要更新
 *
 * 1.React Fiber 解决的问题
 * 复杂组件更新的调用栈过长,如果中间中间有复杂的操作,导致长时间阻塞主进程,页面会出现卡顿,带来不好的用户体验
 *
 * 2.React Fiber的实现原理
 * 本质上是一个虚拟的堆栈帧,新的调度器会按照优先级自由调用这些帧,从而将之前的同步渲染改成了异步渲染,在不影响体验的情况下去分段计算更新
 *
 * 简单理解：
 * React Fiber把更新过程碎片化,每执行一段更新过程,就把控制权交给React负责任务协调的模块,如果有其他紧急任务要做,就会停止继续更新,去处理紧急任务
 * 等紧急任务处理完成后,再回过头重新执行之前被打断的更新操作
 * 维护每一个分片的数据结构就是Fiber
 *
 * 3.React Fiber 异步渲染的执行过程
 * 分为两个阶段: reconciliation核查阶段 和 commit 提交阶段
 * 核查阶段， 可以打断
 * 提交阶段，不能暂停，会一直更新界面直到完成
 * 因为Reconciliation阶段能被打断，所以内部的生命周期函数会出现 多次调用 的情况，应该避免使用，16.0版之后标记为 不安全
 *
 * 4.Reconciliation核查阶段涉及到的生命周期函数
 *   componentWillMount
 *   componentWillReceiveProps
 *   shouldComponentUpdate
 *   componentWillUpdate
 *
 * 5.commit阶段
 *   componentDidMount
 *   componentDidUpdate
 *   componentWillUnmount
 */
```
