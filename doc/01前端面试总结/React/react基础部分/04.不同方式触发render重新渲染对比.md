## 不同方式触发 render 重新渲染对比.md

- Component 组件

```tsx
/**
 * 只要父组件的state发生设置操作都会触发子组件的重新渲染 不管父组件的state的值是否是和之前的一致
 */
import React, { Component } from 'react';

class SonCom extends Component<any, any> {
  constructor(props) {
    super(props);
  }

  render() {
    return (
      <React.Fragment>
        <div>接收父组件的参数{this.props.name}</div>
      </React.Fragment>
    );
  }
}

export default SonCom;

/**
 * 如果是mobx数据触发的改变 如果mobx的值和之前的值是一样的 则不会触发子组件的重新渲染
 * 如果改变都是引用值，这个不管值变不变化都会触发子组件的刷新
 *
 * 父组件的刷新机制和子组件一样
 */
```

- PureComponent

```tsx
/**
 * 当父组件的state重新设置的时候,会先对父组件的state进行浅比较,当比较前后的值没有发生改变的时候不会触发子组件的重新渲染
 * 只有当state浅比较的值发生了改变才会触发子组件的重新渲染
 */

import React, { PureComponent } from 'react';

class SonCom extends PureComponent<any, any> {
  constructor(props) {
    super(props);
  }

  render() {
    return (
      <React.Fragment>
        <div>接收父组件的参数{this.props.name}</div>
      </React.Fragment>
    );
  }
}

export default SonCom;

/**
 *
 * 父组件的刷新机制:
 * 如果是mobx数据触发的改变 如果mobx的值和之前的值是一样的 则不会触发子组件的重新属性
 * 如果改变都是引用值，这个不管值变不变化都会触发子组件的刷新
 *
 *
 * 子组件的刷新机制：
 * 不管mobx的值是否发生改变子组件render方法始终不会触发执行,但是子组件的界面上的mobx数据会发生改变
 * 父组件的刷新机制和子组件一样 如果都是PureComponent组件的话
 */
```
