# 图表容器及大小

## 初始化

```js
// 在 HTML 中定义有宽度和高度的父容器（推荐）
// HTML 中先定义一个 <div> 节点，并且通过 CSS 使得该节点具有宽度和高度。
// 初始化的时候，传入该节点，图表的大小默认即为该节点的大小，除非声明了 opts.width 或 opts.height 将其覆盖。

// 需要注意的是，使用这种方法在调用 echarts.init 时需保证容器已经有宽度和高度了。

<div id="main" style="width: 600px;height:400px;"></div>;
var myChart = echarts.init(document.getElementById('main'));
```

- 指定图表的大小

```js
// 如果图表容器不存在宽度和高度，或者，你希望图表宽度和高度不等于容器大小，也可以在初始化的时候指定大小。
<div id="main"></div>;
var myChart = echarts.init(document.getElementById('main'), null, {
  width: 600,
  height: 400,
});
```

## 响应容器大小的变化

- 监听图表容器的大小并改变图表大小

```js
// 在有些场景下，我们希望当容器大小改变时，图表的大小也相应地改变。
// 比如，图表容器是一个高度为 400px、宽度为页面 100% 的节点，你希望在浏览器宽度改变的时候，始终保持图表宽度是页面的 100%。
// 这种情况下，可以监听页面的 window.onresize 事件获取浏览器大小改变的事件，然后调用 echartsInstance.resize 改变图表的大小。

var myChart = echarts.init(document.getElementById('main'));
window.onresize = function () {
  myChart.resize({
    width: 800,
    height: 400,
  });
};
```

## 为图表设置特定的大小

```js
// 除了直接调用 resize() 不含参数的形式之外，还可以指定宽度和高度，实现图表大小不等于容器大小的效果。
myChart.resize({
  width: 800,
  height: 400,
});
```

## 容器节点被销毁以及被重建时

```js
// 正确的做法是，在图表容器被销毁之后，调用 echartsInstance.dispose 销毁实例，在图表容器重新被添加后再次调用 echarts.init 初始化。
// 在容器节点被销毁时，总是应调用 echartsInstance.dispose 以销毁实例释放资源，避免内存泄漏。
```
