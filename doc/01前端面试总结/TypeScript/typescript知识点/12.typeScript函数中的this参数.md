## typeScript 函数中的 this 参数

```ts
/**
 * 可以给this显式地指定类型
 */
```

- 使用 void 表示在函数体内不允许使用 this

```ts
function sayHello(this: void) {
  // this: void：表示在函数体内不允许使用this
}
```

- 使用 this 参数显式指定 this 的类型

```ts
class Rectangle {
  private w: number;
  private h: number;

  constructor(w: number, h: number) {
    this.w = w;
    this.h = h;
  }

  getArea(this: Rectangle) {
    return () => {
      return this.w * this.h;
    };
  }
}
```

- 回调函数中的 this

```ts
const button = document.querySelector('button');
// ?. -> TS 3.7引入的可选链
button?.addEventListener('click', handleClick);

function handleClick(this: HTMLElement) {
  console.log('Clicked!');
  this.removeEventListener('click', handleClick);
}
```

- this 类型检查编译选项

```ts
// --noImplicitThis，表示当 this 表达式值为 any 类型的时候，生成一个错误信息
```
