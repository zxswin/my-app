## TypeScript 函数重载

- 函数重载经典案例

```ts
/**
 * 函数重载或方法重载是使用相同名称和不同参数数量或类型创建多个方法的一种能力。
 * 为同一个函数提供多个函数类型定义来进行函数重载
 * 编译器会根据这个列表去处理函数的调用
 */

type Combinable = string | number;

class Calculator {
  add(a: number, b: number): number; // 函数重载
  add(a: string, b: string): string; // 函数重载
  add(a: string, b: number): string; // 函数重载
  add(a: number, b: string): string; // 函数重载

  // add函数的具体实现
  add(a: Combinable, b: Combinable) {
    if (typeof a === 'string' || typeof b === 'string') {
      return a.toString() + b.toString();
    }
    return a + b;
  }
}

const calculator = new Calculator();
const result = calculator.add('Semlinker', ' Kakuqo');
```

- 构造函数的重载经典案例

```ts
interface Shape {
  x: number;
  y: number;
  height: number;
  width: number;
}

class Square {
  public x: number;
  public y: number;
  public height: number;
  public width: number;

  constructor(); // 构造函数重载不用参数
  constructor(obj: Shape); // 构造函数重载必须要参数
  constructor(obj?: any) {
    // 构造函数重载参数是可有可无的
    this.x = obj?.x ?? 0; // 这里的??是空值合并的意思
    this.y = obj?.y ?? 0;
    this.height = obj?.height ?? 0;
    this.width = obj?.width ?? 0;
  }
}
```

- typeScript 中的安全导航符

```tsx
// 为了解决导航时变量值为null时，页面运行时出错的问题。
<div>The null hero's name is{nullHero?.name}</div>
```

- 非空断言操作符

```ts
// 告诉 TypeScript 的类型检查器对特定的属性表达式，不做 "严格空值检测"。
this.listeners.get(type)!.size > 0;
```

- 关于空值合并

```ts
const i = undefined; // 只有null 或 undefined才会打印出??号后面的值
const k = i ?? 5; // 如果i是0 false K会打印出0 或false
console.log(k); // 5
```

- 特定重载签名

```ts
/**
 * 我们可以使用一个特定的签名来创建具有同样名称、参数数量但是有不同的返回类型的多个函数。
 * 为了创建一个特定签名，必须将函数的参数类型指定为一个字符串
 */
// typescript/lib/lib.dom.d.ts
createEvent(eventInterface: "KeyboardEvent"): KeyboardEvent; // 特定重载签名
createEvent(eventInterface: "MouseEvent"): MouseEvent; // 特定重载签名
createEvent(eventInterface: "TouchEvent"): TouchEvent; // 特定重载签名

createEvent(eventInterface: string): Event; // 非特定重载签名

```
