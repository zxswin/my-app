## 交叉类型

```ts
/**
 * TypeScript 交叉类型是将多个类型合并为一个类型
 * 多种类型叠加到一起成为一种类型，它包含了所需的所有类型的特性
 */
```

- 简单的例子

```ts
interface IPerson {
  id: string;
  age: number;
}

interface IWorker {
  companyId: string;
}

type IStaff = IPerson & IWorker;

const staff: IStaff = {
  id: 'E1006',
  age: 33,
  companyId: 'EXE',
};

console.dir(staff);
```

- 基本类型交叉可能会产生报错

```ts
/**
 * 为混入后成员 c 的类型为 string & number，即成员 c 的类型既是 string 类型又是 number 类型。
 * 很明显这种类型是不存在的，所以混入后成员 c 的类型为 never
 */
interface X {
  c: string;
  d: string;
}

interface Y {
  c: number;
  e: string;
}

type XY = X & Y;
type YX = Y & X;

let p: XY;
let q: YX;
```

- 非基本类型的交叉示例

```ts
interface D {
  d: boolean;
}
interface E {
  e: string;
}
interface F {
  f: number;
}

interface A {
  x: D;
}
interface B {
  x: E;
}
interface C {
  x: F;
}

type ABC = A & B & C;

let abc: ABC = {
  x: {
    d: true,
    e: 'semlinker',
    f: 666,
  },
};

console.log('abc:', abc); // 可正常打印出来
```

- 交叉类型的使用

```ts
/** ArgBase 接口  */
export interface ArgBase<T> {
  name?: string;
  description?: string;
  hidden?: boolean;
  parse: ParseFn<T>;
  default?: T | (() => T);
  input?: string;
  options?: string[];
}

/** RequiredArg 接口  */
export type RequiredArg<T> = ArgBase<T> & {
  required: true;
  value: T;
};

/** OptionalArg 接口  */
export type OptionalArg<T> = ArgBase<T> & {
  required: false;
  value?: T;
};
```
