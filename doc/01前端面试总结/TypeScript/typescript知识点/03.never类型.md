## never 类型

```ts
/**
 * 底部类型
 * 在 TypeScript 中，never 类型表示的是那些永不存在的值的类型。
 * never 类型是那些总是会抛出异常或根本就不会有返回值的函数表达式或箭头函数表达式的返回值类型
 * never 类型是任何类型的子类型，也可以赋值给任何类型：
 */

// 对于死循环的函数或执行时总会抛出异常的函数来说，函数对应的返回值类型也是 never

// 返回never的函数必须存在无法达到的终点
function error(message: string): never {
  throw new Error(message);
}

// 推断的返回值类型为never
function fail() {
  return error('Some error happened');
}

// 返回never的函数必须存在无法达到的终点
function infiniteLoop(): never {
  while (true) {}
}
```

- 在定义变量时，可以设置变量的类型为 never

```ts
let foo: never; // 定义never类型的变量
```

-运用 1 - 实现详细的检查

```ts
type Foo = string | number;

function controlFlowAnalysisWithNever(foo: Foo) {
  if (typeof foo === 'string') {
    // 这里 foo 被收窄为 string 类型
  } else if (typeof foo === 'number') {
    // 这里 foo 被收窄为 number 类型
  } else {
    // foo 在这里是 never 如果是其他类型走到这里就会出现编译报错了
    const check: never = foo;
  }
}
```

- never 的类型运算

```ts
/** 任意类型与 never 交叉都得到 never  */
type T1 = number & never; // never
type T2 = string & never; // never

/** 任意类型与 never 类型联合，则不会影响原有的类型  */
type T3 = number | never; // number
type T4 = string | never; // string
```
