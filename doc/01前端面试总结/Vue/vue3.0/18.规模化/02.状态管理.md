## 介绍

```js
// Vue 提供 Vuex：我们有受到 Elm 启发的状态管理库。vuex 甚至集成到 vue-devtools，无需配置即可进行时光旅行调试 (time travel debugging)

// Redux 事实上无法感知视图层，所以它能够轻松的通过一些简单绑定和 Vue 一起使用。Vuex 区别在于它是一个专门为 Vue 应用所设计。这使得它能够更好地和 Vue 进行整合，同时提供简洁的 API 和更好的开发体验。
```

## 从零打造简单状态管理

```js
// 随着我们进一步扩展约定，即组件不允许直接变更属于 store 实例的 state，而应执行 action 来分发 (dispatch) 事件通知 store 去改变，最终达成了 Flux 架构。这样约定的好处是，能够记录所有 store 中发生的 state 变更，同时实现能做到记录变更、保存状态快照、历史回滚/时光旅行的先进的调试工具。

// 可以采用一个简单的 store 模式
const store = {
  debug: true,

  state: reactive({
    message: 'Hello!',
  }),

  setMessageAction(newValue) {
    if (this.debug) {
      console.log('setMessageAction triggered with', newValue);
    }

    this.state.message = newValue;
  },

  clearMessageAction() {
    if (this.debug) {
      console.log('clearMessageAction triggered');
    }

    this.state.message = '';
  },
};
```

```html
<!-- 此外，每个实例/组件仍然可以拥有和管理自己的私有状态： -->
<div id="app-a">{{sharedState.message}}</div>
<div id="app-b">{{sharedState.message}}</div>
```

```js
const appA = createApp({
  data() {
    return {
      privateState: {},
      sharedState: store.state,
    };
  },
  mounted() {
    store.setMessageAction('Goodbye!');
  },
}).mount('#app-a');

const appB = createApp({
  data() {
    return {
      privateState: {},
      sharedState: store.state,
    };
  },
}).mount('#app-b');
```
