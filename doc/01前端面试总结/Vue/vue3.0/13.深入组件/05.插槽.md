## 插槽内容

```html
<!-- 将 <slot> 元素作为承载分发内容的出口。 -->

<!-- todo-button 组件模板 -->
<button class="btn-primary">
  <slot></slot>
</button>

<!-- 当组件渲染的时候，<slot></slot> 将会被替换为“Add todo”。 -->
<!-- 如果 <todo-button> 的 template 中没有包含一个 <slot> 元素，则该组件起始标签和结束标签之间的任何内容都会被抛弃。 -->
<todo-button> Add todo </todo-button>

<!-- 插槽还可以包含任何模板代码，包括 HTML -->
<todo-button>
  <!-- 添加一个 Font Awesome 图标 -->
  <i class="fas fa-plus"></i>
  Add todo
</todo-button>

<!-- 其他组件 -->
<todo-button>
  <!-- 添加一个图标的组件 -->
  <font-awesome-icon name="plus"></font-awesome-icon>
  Add todo
</todo-button>
```

## 渲染作用域

```html
<!-- 父级模板里的所有内容都是在父级作用域中编译的；子模板里的所有内容都是在子作用域中编译的。 -->
<!-- 在一个插槽中使用数据时 -->
<todo-button> Delete a {{ item.name }} </todo-button>

<!-- 插槽不能访问 <todo-button> 的作用域。 -->
<todo-button action="delete">
  Clicking here will {{ action }} an item
  <!--
  `action` 将会是 undefined，因为这个内容是
  传递到 <todo-button>，
  而不是在 <todo-button> 中定义的。
  -->
</todo-button>
```

## 备用内容

```html
<!-- 
  <button> 内绝大多数情况下都渲染“Submit”文本。为了将“Submit”作为备用内容，我们可以将它放在 <slot> 标签内：
-->

<button type="submit">
  <slot>Submit</slot>
</button>

<!-- 当我们在一个父级组件中使用 <submit-button> 并且不提供任何插槽内容时： -->
<submit-button></submit-button>

<!-- 备用内容“Submit”将会被渲染： -->
<button type="submit">Submit</button>

<!-- 如果我们提供内容： -->
<submit-button> Save </submit-button>

<!-- 则这个提供的内容将会被渲染从而取代备用内容： -->
<button type="submit">Save</button>
```

## 具名插槽

```html
<!-- 在一个 <template> 元素上使用 v-slot 指令，并以 v-slot 的参数的形式提供其名称： -->

<base-layout>
  <template v-slot:header>
    <h1>Here might be a page title</h1>
  </template>

  <template v-slot:default>
    <p>A paragraph for the main content.</p>
    <p>And another one.</p>
  </template>

  <template v-slot:footer>
    <p>Here's some contact info</p>
  </template>
</base-layout>

<!-- 
  <slot> 元素有一个特殊的 attribute：name。通过它可以为不同的插槽分配独立的 ID，也就能够以此来决定内容应该渲染到什么地方：
  一个不带 name 的 <slot> 出口会带有隐含的名字“default”。
 -->

<div class="container">
  <header>
    <slot name="header"></slot>
  </header>
  <main>
    <slot></slot>
  </main>
  <footer>
    <slot name="footer"></slot>
  </footer>
</div>
```

## 作用域插槽

```html
<!-- 父组件上 -->
<!-- 绑定在 <slot> 元素上的 attribute 被称为插槽 prop。 -->
<todo-list>
  <template v-slot:default="slotProps">
    <i class="fas fa-check"></i>
    <span class="green">{{ slotProps.item }}</span>
  </template>
</todo-list>
```

```html
<!-- 在子组件上 -->
<ul>
  <li v-for="( item, index ) in items">
    <slot
      :item="item"
      :index="index"
      :another-attribute="anotherAttribute"
    ></slot>
  </li>
</ul>
```

## 独占默认插槽的缩写语法

```html
<!-- 当被提供的内容只有默认插槽时，组件的标签才可以被当作插槽的模板来使用 -->
<todo-list v-slot:default="slotProps">
  <i class="fas fa-check"></i>
  <span class="green">{{ slotProps.item }}</span>
</todo-list>

<!-- 假定未指明的内容对应默认插槽一样，不带参数的 v-slot 被假定对应默认插槽： -->
<todo-list v-slot="slotProps">
  <i class="fas fa-check"></i>
  <span class="green">{{ slotProps.item }}</span>
</todo-list>

<!-- 不能和具名插槽混用，因为它会导致作用域不明确 -->
<todo-list>
  <template v-slot:default="slotProps">
    <i class="fas fa-check"></i>
    <span class="green">{{ slotProps.item }}</span>
  </template>

  <template v-slot:other="otherSlotProps"> ... </template>
</todo-list>
```

## 解构插槽 Prop

```html
<todo-list v-slot="{ item }">
  <i class="fas fa-check"></i>
  <span class="green">{{ item }}</span>
</todo-list>

<!-- 将 item 重命名为 todo： -->

<todo-list v-slot="{ item: todo }">
  <i class="fas fa-check"></i>
  <span class="green">{{ todo }}</span>
</todo-list>

<!-- 定义备用内容，用于插槽 prop 是 undefined 的情形： -->

<todo-list v-slot="{ item = 'Placeholder' }">
  <i class="fas fa-check"></i>
  <span class="green">{{ item }}</span>
</todo-list>
```

## 动态插槽名

```html
<base-layout>
  <template v-slot:[dynamicSlotName]> ... </template>
</base-layout>
```

## 具名插槽的缩写

```html
<!-- 例如 v-slot:header 可以被重写为 #header -->
<base-layout>
  <template #header>
    <h1>Here might be a page title</h1>
  </template>

  <template #default>
    <p>A paragraph for the main content.</p>
    <p>And another one.</p>
  </template>

  <template #footer>
    <p>Here's some contact info</p>
  </template>
</base-layout>

<!-- 必须始终以明确的插槽名取而代之： -->

<todo-list #default="{ item }">
  <i class="fas fa-check"></i>
  <span class="green">{{ item }}</span>
</todo-list>
```
