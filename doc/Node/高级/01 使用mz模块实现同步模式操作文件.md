## mz 模块作用

- mz 模块作用

```ts
/**
 * mz提供的API和Node.js的fs模块完全相同，但fs模块使用回调，而mz封装了fs对应的函数，并改为Promise。
 * 这样，我们就可以非常简单的用await调用mz的函数，而不需要任何回调。
 *
 * 安装 npm i mz -S
 */
```

- 简单用例

```ts
// 原始用法
const fs = require('fs');

fs.access('a/', (err) => {
  if (err) {
    console.error('不可访问');
  } else {
    console.log('可读可写');
  }
});

// 引入 mz 模块用法 都转换为 Promise 对象
const fs = require('mz/fs');

fs.access(__filename).then(function (err) {
  console.log('err', err);
  if (!err) {
    console.log('do something');
  }
});

// 可使用 async await 模式来处理异步情况
const fs = require('mz/fs');

async function doSomething() {
  await fs.access(__filename).then((err) => {
    console.log('err', err);
    if (!err) {
      console.log('do something');
    }
  });
}

doSomething();
```
