## TypeScript 可选链

```ts
/**
 * ?. 只会验证对象是否为 null 或 undefined，对于 0 或空字符串来说，并不会出现 “短路”
 * 如果遇到 null 或 undefined 就可以立即停止某些表达式的运行
 */

obj?.prop;
obj?.[expr];
arr?.[index];
func?.(args);

const val = a?.b;
// 编译成ES5后的代码
var val = a === null || a === void 0 ? void 0 : a.b;

// 可选链获取省份的例子
const province = apiResult?.data?.address?.province;
```

- 访问可选元素

```ts
function tryGetArrayElement<T>(arr?: T[], index: number = 0) {
  return arr?.[index];
}
```

- 可选链与函数调用

```ts
/**
 * 可选调用不会阻止 a?.b / someMethod() 表达式中的除法运算或 someMethod 的方法调用。
 */

// 如果存在一个属性名且该属性名对应的值不是函数类型，使用 ?. 仍然会产生一个 TypeError 异常。
let result = obj.customMethod?.();
```
