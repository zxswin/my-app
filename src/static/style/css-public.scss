@import './css-public.color.scss';
@import './css-public.size.scss';

/* 清除浮动*/
@mixin clear {
  clear: both;
}

/* flex布局 */
@mixin layoutflex {
  display: flex;
}

@mixin flex-row {
  @include layoutflex();
  flex-direction: row;
}

@mixin flex-column {
  @include layoutflex();
  flex-direction: column;
}

@mixin flex-row-start {
  @include flex-row();
  justify-content: flex-start;
  align-items: flex-start;
}

@mixin flex-column-start {
  @include flex-column();
  justify-content: flex-start;
  align-items: flex-start;
}

@mixin flex-row-center {
  @include flex-row();
  justify-content: center;
  align-items: center;
}

@mixin flex-column-center {
  @include flex-column();
  justify-content: center;
  align-items: center;
}

@mixin flex-row-between {
  @include flex-row();
  justify-content: space-between;
  align-items: center;
}

@mixin flex-column-between {
  @include flex-column();
  justify-content: space-between;
  align-items: center;
}

/* 禁用效果  */
@mixin disabled {
  opacity: 0.5;
  cursor: not-allowed;
  &:hover {
    border: 1px solid $bdgrey;
  }
}

/* input 默认样式 */
@mixin defaultInput {
  width: 100%;
  height: $input-height-default;
  border: 1px solid $border-color-default;
  transition: all 0.3 ease;
  padding-left: 10px;

  &:hover {
    border: 1px solid $primary;
  }
  &:focus {
    border: 1px solid $primary;
    box-shadow: 0 0 1px 3px rgba($primary, 0.3);
  }
  &:disabled {
    cursor: not-allowed;
    background-color: $bg-disabled;
  }
}

/** 自定义复选框样式  */
@mixin custom_checkbox {
  border: 1px solid $bdgrey;
  border-radius: 3px;
  padding: 1px;

  &:hover {
    border: 1px solid $primary;
  }

  label {
    display: block;
    cursor: pointer;
    width: 16px;
    height: 16px;
  }

  .switch {
    display: none;
    &:checked + label {
      background: $primary;
      mask-image: url(../icon/ui/icon-check.svg);
      mask-position: center;
      mask-size: contain;
      mask-repeat: no-repeat;
    }
    &:disabled + label {
      cursor: not-allowed;
    }
  }
}

/** 自定义复选框Switch开关样式  */
@mixin custom_switch($width: 50px, $height: 24px) {
  label {
    position: relative;
    display: block;
    width: $width;
    background-color: $bdgrey;
    cursor: pointer;
    height: $height;
    border-radius: $width;
    transition: all 0.3s ease;
    animation: toDisabled 1s;

    &::after {
      content: '';
      position: absolute;
      top: 50%;
      transform: translate($width * 0.05, -50%);
      width: $height * 0.8;
      height: $height * 0.8;
      border-radius: 50%;
      background-color: #fff;
      transition: all 0.3s ease;
      border: 1px solid $bdgrey;
    }
  }

  .switch {
    display: none;
    /* 选中状态 */
    &:checked + label::after {
      transform: translate($width - $height * 0.8 - $width * 0.05 - 2px, -50%);
    }
    &:checked + label {
      background-color: $primary;
      animation: toChecked 1s;
    }
    /* 禁用状态 */
    &:disabled + label {
      opacity: 0.5;
    }
  }

  /* 从未选中到选中到过渡效果 */
  @keyframes toChecked {
    from {
      box-shadow: 0 0 1px 5px rgba($primary, 0.2);
    }
    to {
      box-shadow: 0 0 1px 5px rgba($primary, 0);
    }
  }

  /* 从选中到未选中的过渡效果 */
  @keyframes toDisabled {
    from {
      box-shadow: 0 0 1px 5px rgba($bdgrey, 0.2);
    }
    to {
      box-shadow: 0 0 1px 5px rgba($bdgrey, 0);
    }
  }
}

/* 按钮的主题样式  */
@mixin primaryButton($width: 80px, $height: $input-height-default, $bgcolor: $primary) {
  width: $width;
  height: $height;
  line-height: $height;
  text-align: center;
  background: $bgcolor;
  border: 1px solid $bgcolor;
  color: #fff;
  border-radius: $width * 0.06;
  cursor: pointer;

  &:hover {
    background: lighten($bgcolor, 10%);
    border: 1px solid lighten($bgcolor, 10%);
    color: lighten(#fff, 10%);
  }

  &:disabled {
    cursor: not-allowed;
    background: $bg-disabled;
    border: 1px solid $bdgrey;
    color: $bdgrey;
  }
}

/* 按钮的默认样式  */
@mixin defaultButton($width: 80px, $height: $input-height-default, $bgcolor: $primary) {
  @include primaryButton($width, $height, $bgcolor);

  color: $default;
  background-color: $white;
  border: 1px solid $border-color-default;
  &:hover {
    background: $white;
    border: 1px solid $bgcolor;
    color: $bgcolor;
  }

  &:disabled {
    cursor: not-allowed;
    background: $bg-disabled;
    border: 1px solid $bdgrey;
    color: $bdgrey;
  }
}

/* 文字一行超出显示省略号 */

@mixin ellipsis() {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
